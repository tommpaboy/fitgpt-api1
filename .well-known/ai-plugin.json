openapi_spec = {
    "openapi": "3.0.0",
    "info": {
        "title": "FitGPT API",
        "version": "1.0.0",
        "description": "Ett API som ger tillgång till användarens Fitbit-data för hälsa, träning, sömn och kost."
    },
    "servers": [
        {"url": "https://fitgpt-2364.onrender.com"}
    ],
    "paths": {
        "/data/summary": {
            "get": {
                "summary": "Sammanfattad hälsodata",
                "description": "Returnerar steg, kalorier, sömn och puls för angivet datum.",
                "parameters": [
                    {
                        "name": "date",
                        "in": "query",
                        "required": False,
                        "schema": {"type": "string", "format": "date"},
                        "description": "Datum i format YYYY-MM-DD"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Data returnerad",
                        "content": {
                            "application/json": {
                                "example": {
                                    "date": "2025-06-22",
                                    "steps": 8234,
                                    "calories": 2345,
                                    "sleep": {
                                        "total_minutes": 400,
                                        "efficiency": 92
                                    },
                                    "heart": {
                                        "resting_heart_rate": 61
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/data/steps": {
            "get": {
                "summary": "Stegdata",
                "description": "Returnerar antal steg för valt datum.",
                "parameters": [
                    {
                        "name": "date",
                        "in": "query",
                        "required": True,
                        "schema": {"type": "string", "format": "date"},
                        "description": "Datum i format YYYY-MM-DD"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Stegdata",
                        "content": {
                            "application/json": {
                                "example": {
                                    "date": "2025-06-22",
                                    "steps": 8234
                                }
                            }
                        }
                    }
                }
            }
        },
        "/data/sleep": {
            "get": {
                "summary": "Sömn",
                "description": "Returnerar sömnmängd och kvalitet för valt datum.",
                "parameters": [
                    {
                        "name": "date",
                        "in": "query",
                        "required": True,
                        "schema": {"type": "string", "format": "date"},
                        "description": "Datum i format YYYY-MM-DD"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Sömndata",
                        "content": {
                            "application/json": {
                                "example": {
                                    "date": "2025-06-22",
                                    "sleep": {
                                        "total_minutes": 400,
                                        "efficiency": 92
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/data/heart": {
            "get": {
                "summary": "Puls",
                "description": "Returnerar pulsdata (vilopuls) för ett datum.",
                "parameters": [
                    {
                        "name": "date",
                        "in": "query",
                        "required": True,
                        "schema": {"type": "string", "format": "date"},
                        "description": "Datum i format YYYY-MM-DD"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pulsdata",
                        "content": {
                            "application/json": {
                                "example": {
                                    "date": "2025-06-22",
                                    "resting_heart_rate": 61
                                }
                            }
                        }
                    }
                }
            }
        },
        "/data/extended": {
            "get": {
                "summary": "Fullständig historik",
                "description": "Returnerar fullständig datamängd från Fitbit under ett antal dagar.",
                "parameters": [
                    {
                        "name": "days",
                        "in": "query",
                        "required": False,
                        "schema": {"type": "integer", "default": 1},
                        "description": "Hur många dagar bakåt i tiden som ska inkluderas"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Fullständig Fitbit-data",
                        "content": {
                            "application/json": {
                                "example": {
                                    "from": "2025-06-21",
                                    "to": "2025-06-22",
                                    "steps": {},
                                    "calories": {},
                                    "heart": {},
                                    "sleep": {},
                                    "nutrition": {}
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

import json
with open("/mnt/data/openapi.json", "w") as f:
    json.dump(openapi_spec, f, indent=2)

"/mnt/data/openapi.json"
